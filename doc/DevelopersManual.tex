% Use the OpenCTM TeX style
\input{openctm-tex.sty}

% Document properties
\author{Marcus Geelnard}
\title{OpenCTM Developers Manual}

% Document contents
\begin{document}

%--[ Title pages ]--------------------------------------------------------------

\maketitle

\tableofcontents


%-------------------------------------------------------------------------------

\chapter{Introduction}
The OpenCTM file format is an open format for storing 3D triangle meshes.
One of the main advantages over other similar file formats is its ability
to losslessly compress the triangle geometry to a fraction of the corresponding
raw data size.

This document describes how to use the OpenCTM API to load and save OpenCTM
format files. It is mostly written for C/C++ users, but should be useful for
other programming languages too, since the concepts and function calls are
virtually identical regardless of programming language.


%-------------------------------------------------------------------------------

\chapter{Concepts}

\section{The OpenCTM API}
Bla-bla-bla...

\section{The OpenCTM context}
Bla-bla-bla...

\section{The triangle mesh}
Bla-bla-bla...



%-------------------------------------------------------------------------------

\chapter{Building from source}
To use the OpenCTM API, you need the shared library and language bindings
for loading and calling it. It can either be downloaded as a precompiled binary
package for your platform, or you can build it from the source package.

This chapter describes how to build the OpenCTM shared library from the source
package.

\section{Windows - MS Visual Studio}
Start an MS Visual Studio command line (for instance using the Tools $>$
Visual Studio 2008 Command Prompt menu from the IDE), and do the following:

\begin{lstlisting}
> cd [sourcedir]
> nmake /fMakefile.msvc
\end{lstlisting}

...where [sourcedir] is the location of the OpenCTM source. This should produce
the files openctm.dll, openctm.lib, tools\textbackslash ctmconv.exe and
tools\textbackslash ctmviewer.exe (the latter requires GLUT).


\section{Windows - MinGW32}
Start a command prompt, and do the following:

\begin{lstlisting}
> cd [sourcedir]
> mingw32-make -f Makefile.mgw
\end{lstlisting}

...where [sourcedir] is the location of the OpenCTM source. This should produce
the files openctm.dll, libopenctm.a, tools\textbackslash ctmconv.exe and
tools\textbackslash ctmviewer.exe (the latter requires GLUT).


\section{Mac OS X}
Start a shell, and do the following:

\begin{lstlisting}
> cd [sourcedir]
> make -f Makefile.macosx
\end{lstlisting}

...where [sourcedir] is the location of the OpenCTM source. This should produce
the files openctm.dylib, tools/ctmconv and tools/ctmviewer.


\section{Linux}
Start a shell, and do the following:

\begin{lstlisting}
> cd [sourcedir]
> make -f Makefile.linux
\end{lstlisting}

...where [sourcedir] is the location of the OpenCTM source. This should produce
the files libopenctm.so, tools/ctmconv and tools/ctmviewer (the latter requires
GLUT or freeglut).



%-------------------------------------------------------------------------------

\chapter{Usage}

\section{Prerequisites}
To use the OpenCTM API, you need to include the OpenCTM include file, like this:

\begin{lstlisting}
#include <openctm.h>
\end{lstlisting}

You also need to link with the OpenCTM import library. For instance, in MS
Visual Studio you can add "openctm.lib" to your Additional Dependencies field
in the Linker section. For gcc/g++ or similar compilers, you will typically
add -lopenctm to the list of compiler options, for instance:

\begin{lstlisting}
> g++ -o foo foo.cpp -lopenctm
\end{lstlisting}



\section{Loading OpenCTM files}
\begin{lstlisting}
CTMcontext ctm = ctmCreateContext(CTMenum aMode);
\end{lstlisting}


\end{document}
